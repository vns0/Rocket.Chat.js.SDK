{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../src/utils/interfaces.ts"],"names":[],"mappings":"","sourcesContent":["/** Payload structure for `chat.postMessage` endpoint */\r\nexport interface IMessageAPI {\r\n  roomId: string       // The room id of where the message is to be sent\r\n  channel?: string     // The channel name with the prefix in front of it\r\n  text?: string        // The text of the message to send, is optional because of attachments\r\n  alias?: string       // This will cause the messenger name to appear as the given alias, but username will still display\r\n  emoji?: string       // If provided, this will make the avatar on this message be an emoji\r\n  avatar?: string      // If provided, this will make the avatar use the provided image url\r\n  attachments?: IAttachmentAPI[] // See attachment interface below\r\n}\r\n\r\n/** Payload structure for `chat.update` endpoint */\r\nexport interface IMessageUpdateAPI {\r\n  roomId: string       // The room id of where the message is\r\n  msgId: string        // The message id to update\r\n  text: string         // Updated text for the message\r\n}\r\n\r\n/** Message receipt returned after send (not the same as sent object) */\r\nexport interface IMessageReceiptAPI {\r\n  _id: string           // ID of sent message\r\n  rid: string          // Room ID of sent message\r\n  alias: string        // ?\r\n  msg: string          // Content of message\r\n  parseUrls: boolean   // URL parsing enabled on message hooks\r\n  groupable: boolean   // Grouping message enabled\r\n  ts: string           // Timestamp of message creation\r\n  u: {                 // User details of sender\r\n    _id: string\r\n    username: string\r\n  }\r\n  _updatedAt: string   // Time message last updated\r\n  editedAt?: string    // Time updated by edit\r\n  editedBy?: {          // User details for the updater\r\n    _id: string\r\n    username: string\r\n  }\r\n}\r\n\r\n/** Payload structure for message attachments */\r\nexport interface IAttachmentAPI {\r\n  color?: string        // The color you want the order on the left side to be, any value background-css supports\r\n  text?: string         // The text to display for this attachment, it is different than the message text\r\n  ts?: string           // ISO timestamp, displays the time next to the text portion\r\n  thumb_url?: string    // An image that displays to the left of the text, looks better when this is relatively small\r\n  message_link?: string // Only applicable if the ts is provided, as it makes the time clickable to this link\r\n  collapsed?: boolean   // Causes the image, audio, and video sections to be hiding when collapsed is true\r\n  author_name?: string  // Name of the author\r\n  author_link?: string  // Providing this makes the author name clickable and points to this link\r\n  author_icon?: string  // Displays a tiny icon to the left of the author's name\r\n  title?: string        // Title to display for this attachment, displays under the author\r\n  title_link?: string   // Providing this makes the title clickable, pointing to this link\r\n  title_link_download_true?: string // When this is true, a download icon appears and clicking this saves the link to file\r\n  image_url?: string    // The image to display, will be “big” and easy to see\r\n  audio_url?: string    // Audio file to play, only supports what html audio does\r\n  video_url?: string    // Video file to play, only supports what html video does\r\n  fields?: IAttachmentFieldAPI[] // An array of Attachment Field Objects\r\n}\r\n\r\n/**\r\n * Payload structure for attachment field object\r\n * The field property of the attachments allows for “tables” or “columns” to be displayed on messages\r\n */\r\nexport interface IAttachmentFieldAPI {\r\n  short?: boolean  // Whether this field should be a short field\r\n  title: string    // The title of this field\r\n  value: string     // The value of this field, displayed underneath the title value\r\n}\r\n\r\n/** Result structure for message endpoints */\r\nexport interface IMessageResultAPI {\r\n  ts: number           // Seconds since unix epoch\r\n  channel: string      // Name of channel without prefix\r\n  message: IMessageReceiptAPI // Sent message\r\n  success: boolean      // Send status\r\n}\r\n\r\n/** User object structure for creation endpoints */\r\nexport interface INewUserAPI {\r\n  email?: string                  // Email address\r\n  name?: string                   // Full name\r\n  password: string                // User pass\r\n  username: string                // Username\r\n  active?: true                   // Subscription is active\r\n  roles?: string[]                // Role IDs\r\n  joinDefaultChannels?: boolean   // Auto join channels marked as default\r\n  requirePasswordChange?: boolean // Direct to password form on next login\r\n  sendWelcomeEmail?: boolean      // Send new credentials in email\r\n  verified?: true                  // Email address verification status\r\n}\r\n\r\n/** User object structure for queries (not including admin access level) */\r\nexport interface IUserAPI {\r\n  _id: string          // MongoDB user doc ID\r\n  type: string         // user / bot ?\r\n  status: string       // online | offline\r\n  active: boolean      // Subscription is active\r\n  name: string         // Full name\r\n  utcOffset: number    // Hours off UTC/GMT\r\n  username: string     // Username\r\n}\r\n\r\n/** Result structure for user data request (by non-admin) */\r\nexport interface IUserResultAPI {\r\n  user: IUserAPI       // The requested user\r\n  success: boolean     // Status of request\r\n}\r\n\r\n/** Room object structure */\r\nexport interface IRoomAPI {\r\n  _id: string          // Room ID\r\n  _updatedAt: string   // ISO timestamp\r\n  t: 'c' | 'p' | 'd' | 'l' // Room type (channel, private, direct, livechat)\r\n  msgs: number         // Count of messages in room\r\n  ts: string           // ISO timestamp (current time in room?)\r\n  meta: {\r\n    revision: number   // ??\r\n    created: number    // Unix ms>epoch time\r\n    version: number     // ??\r\n  }\r\n}\r\n\r\n/** Channel result schema */\r\nexport interface IChannelAPI {\r\n  _id: string          // Channel ID\r\n  name: string         // Channel name\r\n  t: 'c' | 'p' | 'l'   // Channel type (channel always c)\r\n  msgs: number         // Count of messages in room\r\n  u: {\r\n    _id: string        // Owner user ID\r\n    username: string    // Owner username\r\n  }\r\n  ts: string           // ISO timestamp (current time in room?)\r\n  default: boolean     // Is default channel\r\n}\r\n\r\n/** Group result schema */\r\nexport interface IGroupAPI {\r\n  _id: string          // Group ID\r\n  name: string         // Group name\r\n  usernames: string[]  // Users in group\r\n  t: 'c' | 'p' | 'l'   // Group type (private always p)\r\n  msgs: number         // Count of messages in room\r\n  u: {\r\n    _id: string        // Owner user ID\r\n    username: string   // Owner username\r\n  }\r\n  ts: string           // ISO timestamp (current time in room?)\r\n  default: boolean     // Is default channel (would be false)\r\n}\r\n\r\n/** Result structure for room creation (e.g. DM) */\r\nexport interface IRoomResultAPI {\r\n  room: IRoomAPI\r\n  success: boolean\r\n}\r\n\r\n/** Result structure for channel creation */\r\nexport interface IChannelResultAPI {\r\n  channel: IChannelAPI\r\n  success: boolean\r\n}\r\n\r\n/** Result structure for group creation */\r\nexport interface IGroupResultAPI {\r\n  group: IGroupAPI\r\n  success: boolean\r\n}\r\n"]}